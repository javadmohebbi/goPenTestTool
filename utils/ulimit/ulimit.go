// in help of this blog
// I made this file
// https://medium.com/@KentGruber/building-a-high-performance-port-scanner-with-golang-9976181ec39d

package ulimit

import (
	"fmt"
	"os/exec"
	"strconv"
	"strings"
)

func Get() int64 {
	out, err := exec.Command("bash", "-c", "ulimit -n").Output()
	if err != nil {
		fmt.Printf("ulimit command execution error: %v" + err.Error())
		return -1
	}
	s := strings.TrimSpace(string(out))
	i, err := strconv.ParseInt(s, 10, 64)

	if err != nil {
		panic(err)
	}
	return i
}
